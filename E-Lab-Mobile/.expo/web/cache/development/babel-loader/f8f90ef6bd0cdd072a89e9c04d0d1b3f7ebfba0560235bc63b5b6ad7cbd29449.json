{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { isRTL as $148a7a147e38ea7f$export$702d680b21cbd764 } from \"./utils.mjs\";\nimport { useState as $ffhGL$useState, useEffect as $ffhGL$useEffect } from \"react\";\nimport { useIsSSR as $ffhGL$useIsSSR } from \"@react-aria/ssr\";\nvar $1e5a04cdaf7d1af8$var$localeSymbol = Symbol.for('react-aria.i18n.locale');\nfunction $1e5a04cdaf7d1af8$export$f09106e7c6677ec5() {\n  var locale = typeof window !== 'undefined' && window[$1e5a04cdaf7d1af8$var$localeSymbol] || typeof navigator !== 'undefined' && (navigator.language || navigator.userLanguage) || 'en-US';\n  try {\n    Intl.DateTimeFormat.supportedLocalesOf([locale]);\n  } catch (_unused) {\n    locale = 'en-US';\n  }\n  return {\n    locale: locale,\n    direction: (0, $148a7a147e38ea7f$export$702d680b21cbd764)(locale) ? 'rtl' : 'ltr'\n  };\n}\nvar $1e5a04cdaf7d1af8$var$currentLocale = $1e5a04cdaf7d1af8$export$f09106e7c6677ec5();\nvar $1e5a04cdaf7d1af8$var$listeners = new Set();\nfunction $1e5a04cdaf7d1af8$var$updateLocale() {\n  $1e5a04cdaf7d1af8$var$currentLocale = $1e5a04cdaf7d1af8$export$f09106e7c6677ec5();\n  for (var listener of $1e5a04cdaf7d1af8$var$listeners) listener($1e5a04cdaf7d1af8$var$currentLocale);\n}\nfunction $1e5a04cdaf7d1af8$export$188ec29ebc2bdc3a() {\n  var isSSR = (0, $ffhGL$useIsSSR)();\n  var _ref = (0, $ffhGL$useState)($1e5a04cdaf7d1af8$var$currentLocale),\n    _ref2 = _slicedToArray(_ref, 2),\n    defaultLocale = _ref2[0],\n    setDefaultLocale = _ref2[1];\n  (0, $ffhGL$useEffect)(function () {\n    if ($1e5a04cdaf7d1af8$var$listeners.size === 0) window.addEventListener('languagechange', $1e5a04cdaf7d1af8$var$updateLocale);\n    $1e5a04cdaf7d1af8$var$listeners.add(setDefaultLocale);\n    return function () {\n      $1e5a04cdaf7d1af8$var$listeners.delete(setDefaultLocale);\n      if ($1e5a04cdaf7d1af8$var$listeners.size === 0) window.removeEventListener('languagechange', $1e5a04cdaf7d1af8$var$updateLocale);\n    };\n  }, []);\n  if (isSSR) return {\n    locale: 'en-US',\n    direction: 'ltr'\n  };\n  return defaultLocale;\n}\nexport { $1e5a04cdaf7d1af8$export$f09106e7c6677ec5 as getDefaultLocale, $1e5a04cdaf7d1af8$export$188ec29ebc2bdc3a as useDefaultLocale };","map":{"version":3,"names":["$1e5a04cdaf7d1af8$var$localeSymbol","Symbol","for","$1e5a04cdaf7d1af8$export$f09106e7c6677ec5","locale","window","navigator","language","userLanguage","Intl","DateTimeFormat","supportedLocalesOf","_unused","direction","$148a7a147e38ea7f$export$702d680b21cbd764","$1e5a04cdaf7d1af8$var$currentLocale","$1e5a04cdaf7d1af8$var$listeners","Set","$1e5a04cdaf7d1af8$var$updateLocale","listener","$1e5a04cdaf7d1af8$export$188ec29ebc2bdc3a","isSSR","$ffhGL$useIsSSR","_ref","$ffhGL$useState","_ref2","_slicedToArray","defaultLocale","setDefaultLocale","$ffhGL$useEffect","size","addEventListener","add","delete","removeEventListener"],"sources":["C:\\Users\\merve\\node_modules\\@react-aria\\i18n\\dist\\packages\\@react-aria\\i18n\\src\\useDefaultLocale.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Direction} from '@react-types/shared';\nimport {isRTL} from './utils';\nimport {useEffect, useState} from 'react';\nimport {useIsSSR} from '@react-aria/ssr';\n\nexport interface Locale {\n  /** The [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt) language code for the locale. */\n  locale: string,\n  /** The writing direction for the locale. */\n  direction: Direction\n}\n\n// Locale passed from server by PackageLocalizationProvider.\nconst localeSymbol = Symbol.for('react-aria.i18n.locale');\n\n/**\n * Gets the locale setting of the browser.\n */\nexport function getDefaultLocale(): Locale {\n  let locale = typeof window !== 'undefined' && window[localeSymbol]\n    // @ts-ignore\n    || (typeof navigator !== 'undefined' && (navigator.language || navigator.userLanguage))\n    || 'en-US';\n\n  try {\n    Intl.DateTimeFormat.supportedLocalesOf([locale]);\n  } catch {\n    locale = 'en-US';\n  }\n  return {\n    locale,\n    direction: isRTL(locale) ? 'rtl' : 'ltr'\n  };\n}\n\nlet currentLocale = getDefaultLocale();\nlet listeners = new Set<(locale: Locale) => void>();\n\nfunction updateLocale() {\n  currentLocale = getDefaultLocale();\n  for (let listener of listeners) {\n    listener(currentLocale);\n  }\n}\n\n/**\n * Returns the current browser/system language, and updates when it changes.\n */\nexport function useDefaultLocale(): Locale {\n  let isSSR = useIsSSR();\n  let [defaultLocale, setDefaultLocale] = useState(currentLocale);\n\n  useEffect(() => {\n    if (listeners.size === 0) {\n      window.addEventListener('languagechange', updateLocale);\n    }\n\n    listeners.add(setDefaultLocale);\n\n    return () => {\n      listeners.delete(setDefaultLocale);\n      if (listeners.size === 0) {\n        window.removeEventListener('languagechange', updateLocale);\n      }\n    };\n  }, []);\n\n  // We cannot determine the browser's language on the server, so default to\n  // en-US. This will be updated after hydration on the client to the correct value.\n  if (isSSR) {\n    return {\n      locale: 'en-US',\n      direction: 'ltr'\n    };\n  }\n\n  return defaultLocale;\n}\n"],"mappings":";;;;AAyBA,IAAMA,kCAAA,GAAeC,MAAA,CAAOC,GAAG,CAAC;AAKzB,SAASC,0CAAA;EACd,IAAIC,MAAA,GAAS,OAAOC,MAAA,KAAW,eAAeA,MAAM,CAACL,kCAAA,CAAa,IAE5D,OAAOM,SAAA,KAAc,gBAAgBA,SAAA,CAAUC,QAAQ,IAAID,SAAA,CAAUE,YAAY,CAAD,IACjF;EAEL,IAAI;IACFC,IAAA,CAAKC,cAAc,CAACC,kBAAkB,CAAC,CAACP,MAAA,CAAO;EACjD,EAAE,OAAAQ,OAAA,EAAM;IACNR,MAAA,GAAS;EACX;EACA,OAAO;YACLA,MAAA;IACAS,SAAA,EAAW,IAAAC,yCAAI,EAAEV,MAAA,IAAU,QAAQ;EACrC;AACF;AAEA,IAAIW,mCAAA,GAAgBZ,yCAAA;AACpB,IAAIa,+BAAA,GAAY,IAAIC,GAAA;AAEpB,SAASC,mCAAA;EACPH,mCAAA,GAAgBZ,yCAAA;EAChB,KAAK,IAAIgB,QAAA,IAAYH,+BAAA,EACnBG,QAAA,CAASJ,mCAAA;AAEb;AAKO,SAASK,0CAAA;EACd,IAAIC,KAAA,GAAQ,IAAAC,eAAO;EACnB,IAAAC,IAAA,GAAwC,IAAAC,eAAO,EAAET,mCAAA;IAAAU,KAAA,GAAAC,cAAA,CAAAH,IAAA;IAA5CI,aAAA,GAAAF,KAAA;IAAeG,gBAAA,GAAAH,KAAA;EAEpB,IAAAI,gBAAQ,EAAE;IACR,IAAIb,+BAAA,CAAUc,IAAI,KAAK,GACrBzB,MAAA,CAAO0B,gBAAgB,CAAC,kBAAkBb,kCAAA;IAG5CF,+BAAA,CAAUgB,GAAG,CAACJ,gBAAA;IAEd,OAAO;MACLZ,+BAAA,CAAUiB,MAAM,CAACL,gBAAA;MACjB,IAAIZ,+BAAA,CAAUc,IAAI,KAAK,GACrBzB,MAAA,CAAO6B,mBAAmB,CAAC,kBAAkBhB,kCAAA;IAEjD;EACF,GAAG,EAAE;EAIL,IAAIG,KAAA,EACF,OAAO;IACLjB,MAAA,EAAQ;IACRS,SAAA,EAAW;EACb;EAGF,OAAOc,aAAA;AACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
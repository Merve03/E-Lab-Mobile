{"ast":null,"code":"import { useRef as $lPAwt$useRef, useCallback as $lPAwt$useCallback, useEffect as $lPAwt$useEffect } from \"react\";\nfunction $03deb23ff14920c4$export$4eaf04e54aa8eed6() {\n  var globalListeners = (0, $lPAwt$useRef)(new Map());\n  var addGlobalListener = (0, $lPAwt$useCallback)(function (eventTarget, type, listener, options) {\n    var fn = (options === null || options === void 0 ? void 0 : options.once) ? function () {\n      globalListeners.current.delete(listener);\n      listener.apply(void 0, arguments);\n    } : listener;\n    globalListeners.current.set(listener, {\n      type: type,\n      eventTarget: eventTarget,\n      fn: fn,\n      options: options\n    });\n    eventTarget.addEventListener(type, listener, options);\n  }, []);\n  var removeGlobalListener = (0, $lPAwt$useCallback)(function (eventTarget, type, listener, options) {\n    var _globalListeners_current_get;\n    var fn = ((_globalListeners_current_get = globalListeners.current.get(listener)) === null || _globalListeners_current_get === void 0 ? void 0 : _globalListeners_current_get.fn) || listener;\n    eventTarget.removeEventListener(type, fn, options);\n    globalListeners.current.delete(listener);\n  }, []);\n  var removeAllGlobalListeners = (0, $lPAwt$useCallback)(function () {\n    globalListeners.current.forEach(function (value, key) {\n      removeGlobalListener(value.eventTarget, value.type, key, value.options);\n    });\n  }, [removeGlobalListener]);\n  (0, $lPAwt$useEffect)(function () {\n    return removeAllGlobalListeners;\n  }, [removeAllGlobalListeners]);\n  return {\n    addGlobalListener: addGlobalListener,\n    removeGlobalListener: removeGlobalListener,\n    removeAllGlobalListeners: removeAllGlobalListeners\n  };\n}\nexport { $03deb23ff14920c4$export$4eaf04e54aa8eed6 as useGlobalListeners };","map":{"version":3,"names":["$03deb23ff14920c4$export$4eaf04e54aa8eed6","globalListeners","$lPAwt$useRef","Map","addGlobalListener","$lPAwt$useCallback","eventTarget","type","listener","options","fn","once","current","delete","apply","arguments","set","addEventListener","removeGlobalListener","_globalListeners_current_get","get","removeEventListener","removeAllGlobalListeners","forEach","value","key","$lPAwt$useEffect"],"sources":["C:\\Users\\merve\\node_modules\\@react-aria\\utils\\dist\\packages\\@react-aria\\utils\\src\\useGlobalListeners.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useCallback, useEffect, useRef} from 'react';\n\ninterface GlobalListeners {\n  addGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void,\n  addGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void,\n  removeGlobalListener<K extends keyof DocumentEventMap>(el: EventTarget, type: K, listener: (this: Document, ev: DocumentEventMap[K]) => any, options?: boolean | EventListenerOptions): void,\n  removeGlobalListener(el: EventTarget, type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void,\n  removeAllGlobalListeners(): void\n}\n\nexport function useGlobalListeners(): GlobalListeners {\n  let globalListeners = useRef(new Map());\n  let addGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    // Make sure we remove the listener after it is called with the `once` option.\n    let fn = options?.once ? (...args) => {\n      globalListeners.current.delete(listener);\n      listener(...args);\n    } : listener;\n    globalListeners.current.set(listener, {type, eventTarget, fn, options});\n    eventTarget.addEventListener(type, listener, options);\n  }, []);\n  let removeGlobalListener = useCallback((eventTarget, type, listener, options) => {\n    let fn = globalListeners.current.get(listener)?.fn || listener;\n    eventTarget.removeEventListener(type, fn, options);\n    globalListeners.current.delete(listener);\n  }, []);\n  let removeAllGlobalListeners = useCallback(() => {\n    globalListeners.current.forEach((value, key) => {\n      removeGlobalListener(value.eventTarget, value.type, key, value.options);\n    });\n  }, [removeGlobalListener]);\n\n   \n  useEffect(() => {\n    return removeAllGlobalListeners;\n  }, [removeAllGlobalListeners]);\n\n  return {addGlobalListener, removeGlobalListener, removeAllGlobalListeners};\n}\n"],"mappings":";AAsBO,SAASA,0CAAA;EACd,IAAIC,eAAA,GAAkB,IAAAC,aAAK,EAAE,IAAIC,GAAA;EACjC,IAAIC,iBAAA,GAAoB,IAAAC,kBAAU,EAAE,UAACC,WAAA,EAAaC,IAAA,EAAMC,QAAA,EAAUC,OAAA;IAEhE,IAAIC,EAAA,GAAK,CAAAD,OAAA,aAAAA,OAAA,uBAAAA,OAAA,CAASE,IAAI,IAAG,YAAI;MAC3BV,eAAA,CAAgBW,OAAO,CAACC,MAAM,CAACL,QAAA;MAC/BA,QAAA,CAAAM,KAAA,SAAAC,SAAY;IACd,IAAIP,QAAA;IACJP,eAAA,CAAgBW,OAAO,CAACI,GAAG,CAACR,QAAA,EAAU;YAACD,IAAA;mBAAMD,WAAA;UAAaI,EAAA;eAAID;IAAO;IACrEH,WAAA,CAAYW,gBAAgB,CAACV,IAAA,EAAMC,QAAA,EAAUC,OAAA;EAC/C,GAAG,EAAE;EACL,IAAIS,oBAAA,GAAuB,IAAAb,kBAAU,EAAE,UAACC,WAAA,EAAaC,IAAA,EAAMC,QAAA,EAAUC,OAAA;QAC1DU,4BAAA;IAAT,IAAIT,EAAA,GAAK,EAAAS,4BAAA,GAAAlB,eAAA,CAAgBW,OAAO,CAACQ,GAAG,CAACZ,QAAA,eAA5BW,4BAAA,uBAAAA,4BAAA,CAAuCT,EAAE,KAAIF,QAAA;IACtDF,WAAA,CAAYe,mBAAmB,CAACd,IAAA,EAAMG,EAAA,EAAID,OAAA;IAC1CR,eAAA,CAAgBW,OAAO,CAACC,MAAM,CAACL,QAAA;EACjC,GAAG,EAAE;EACL,IAAIc,wBAAA,GAA2B,IAAAjB,kBAAU,EAAE;IACzCJ,eAAA,CAAgBW,OAAO,CAACW,OAAO,CAAC,UAACC,KAAA,EAAOC,GAAA;MACtCP,oBAAA,CAAqBM,KAAA,CAAMlB,WAAW,EAAEkB,KAAA,CAAMjB,IAAI,EAAEkB,GAAA,EAAKD,KAAA,CAAMf,OAAO;IACxE;EACF,GAAG,CAACS,oBAAA,CAAqB;EAGzB,IAAAQ,gBAAQ,EAAE;IACR,OAAOJ,wBAAA;EACT,GAAG,CAACA,wBAAA,CAAyB;EAE7B,OAAO;uBAAClB,iBAAA;0BAAmBc,oBAAA;8BAAsBI;EAAwB;AAC3E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}